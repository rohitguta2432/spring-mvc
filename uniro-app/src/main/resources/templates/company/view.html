<div th:fragment="customCss">
	<link rel="stylesheet"
		href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" />
</div>

<div th:fragment="content">
 <div class="titles_strip">
	<div class="col-md-12 cols">
		<div class="page-title">
			<h2>Company Details</h2>
				<div th:if="${msg}" th:text="${msg}" class="alert alert-success" id="success-alert">
					<strong> <span th:text="${msg}"></span></strong>
				</div>
		</div>
		<div class="plus_icon">
			<a th:href="@{company/create}"><i class="fas fa-plus"></i></a>
		</div>
	</div>
</div>	
	<div class="container-fluid">
		<div class="row">
			<div class="table_parent">
				<div class="table-responsive">
					<table id="data-table"
						class="table table-striped table-bordered table-hover settings">
						<thead>
							<th class="sm-width">Registration No</th>
							<th class="sm-width">Name</th>
							<th class="sm-width">Website</th>
							<th class="sm-width">Email</th>
							<!-- <th class="xs-width">Status</th> -->
							<th class="xs-width">Action</th>
						</thead>
						<tbody>
							<tr th:if="${companies != null }"
								th:each="company,iterator : ${companies}">
								<td><span th:if="${company.crn != null }"
									th:text="${company.crn}"></span></td>
								<td><span th:if="${company.name != null }"
									th:text="${company.name}"></span></td>
								<td><span th:if="${company.url != null }">
								<a th:href="@{'//'+${company.url}}" target="_blank"> 
									<span th:text="${company.url}"></span>
								</a>
								</span></td>
								<td><span th:if="${company.contacts != null }"
									th:text="${company.contacts.email}"></span></td>
								<!-- <td th:if="${company.status== 1 }" class="text-center"
									style="color: green;"><span>&nbsp;<i
										class="fa fa-check"></i></span></td>
								<td th:if="${company.status== 0 }" class="text-center"
									style="color: red;"><span>&nbsp;<i
										class="fa fa-remove"></i></span></td> -->
								<td><a th:if="${company.id != null }"
									th:href="@{/company/update/}+${company.id}"> <i
										class="fa fa-edit"></i></a> <a th:if="${company.id != null }"
									class="remove" th:id="${company.id}"> <i
										class="fa fa-trash"></i></a></td>
							</tr>
						<tbody>
					</table>
					<div class="clearfix"></div>

				</div>


			</div>
		</div>
	</div>
	
	<!-- Modal -->
	<div class="modal fade" id="removeCompany" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">Company</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">Are you sure to remove company !</div>
					<input type="hidden" id="hiddenId" />
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary"
						id="deleteCompany">Ok</button>
				</div>
			</div>
		</div>
	</div>
	
</div>

<div th:fragment="customJs">
	<script type="text/javascript" charset="utf8"
		src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	<script th:src="@{/./js/company.js}"></script>
	<script>
	$(function() {

		var table = $("#data-table").dataTable({
			"order" : [],
			"deferRender" : true,
			"columnDefs" : [ {
				"targets" : 4,
				"orderable" : true,
			} ]

		});

	});
	
	</script>
</div>



